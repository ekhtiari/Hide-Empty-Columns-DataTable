<!DOCTYPE html>
<html>

<head>
    <meta charset='utf-8'>
    <meta http-equiv='X-UA-Compatible' content='IE=edge'>
    <title>DataTable - Hide Empty Columns</title>
    <meta name='viewport' content='width=device-width, initial-scale=1'>
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.0/css/bootstrap.min.css">
    <link rel="stylesheet" href="Asset/datatable/datatables.css">
    <script src="https://code.jquery.com/jquery-3.7.1.js" integrity="sha256-eKhayi8LEQwp4NKxN+CfCh+3qOVUtJn3QNZ0TciWLP4=" crossorigin="anonymous"></script>

    <script src="Asset/datatable/datatables.js"></script>

</head>

<body>
    <div class="container">


        <fieldset>
            <legend>
                <h3>Info</h3>
            </legend>

            <button class="btn btn-default" onclick="RemoveEmptyColumns()">Hide Empty Columns</button>
        </fieldset>
        <br>
        <table class="table table-responsive table-hover table-bordered" id="texample">
            <thead>
                <tr>
                    <th colspan="2"> Header 1</th>
                    <th colspan="1"> Header 2</th>
                    <th colspan="4"> Header 3</th>
                    <th colspan="3"> Header 4</th>
                </tr>
                <tr>
                    <td>Sub Header 1.1</td>
                    <td>Sub Header 1.2</td>
                    <td>Sub Header 2.1</td>
                    <td>Sub Header 3.1</td>
                    <td>Sub Header 3.2</td>
                    <td>Sub Header 3.3</td>
                    <td>Sub Header 3.4</td>
                    <td>Sub Header 4.1</td>
                    <td>Sub Header 4.2</td>
                    <td>Sub Header 4.3</td>

                </tr>
            </thead>
            <tbody>
                <tr>
                    <td>Val 1.1</td>
                    <td>Val 1.2</td>
                    <td></td>
                    <td>Val 3.1</td>
                    <td>Val 3.2</td>
                    <td></td>
                    <td>Val 3.4</td>
                    <td>Val 4.1</td>
                    <td>Val 4.2</td>
                    <td>Val 4.3</td>
                </tr>
                <tr>
                    <td>Val 1.1</td>
                    <td>Val 1.2</td>
                    <td></td>
                    <td>Val 3.1</td>
                    <td>Val 3.2</td>
                    <td></td>
                    <td>Val 3.4</td>
                    <td>Val 4.1</td>
                    <td>Val 4.2</td>
                    <td>Val 4.3</td>
                </tr>
                <tr>
                    <td>Val 1.1</td>
                    <td>Val 1.2</td>
                    <td></td>
                    <td>Val 3.1</td>
                    <td>Val 3.2</td>
                    <td></td>
                    <td>Val 3.4</td>
                    <td>Val 4.1</td>
                    <td>Val 4.2</td>
                    <td>Val 4.3</td>
                </tr>
                <tr>
                    <td>Val 1.1</td>
                    <td>Val 1.2</td>
                    <td></td>
                    <td>Val 3.1</td>
                    <td>Val 3.2</td>
                    <td></td>
                    <td>Val 3.4</td>
                    <td>Val 4.1</td>
                    <td>Val 4.2</td>
                    <td>Val 4.3</td>
                </tr>
                <tr>
                    <td>Val 1.1</td>
                    <td>Val 1.2</td>
                    <td></td>
                    <td>Val 3.1</td>
                    <td>Val 3.2</td>
                    <td></td>
                    <td>Val 3.4</td>
                    <td>Val 4.1</td>
                    <td>Val 4.2</td>
                    <td>Val 4.3</td>
                </tr>
                <tr>
                    <td>Val 1.1</td>
                    <td>Val 1.2</td>
                    <td></td>
                    <td>Val 3.1</td>
                    <td>Val 3.2</td>
                    <td></td>
                    <td>Val 3.4</td>
                    <td>Val 4.1</td>
                    <td>Val 4.2</td>
                    <td>Val 4.3</td>
                </tr>
                <tr>
                    <td>Val 1.1</td>
                    <td>Val 1.2</td>
                    <td></td>
                    <td>Val 3.1</td>
                    <td>Val 3.2</td>
                    <td></td>
                    <td>Val 3.4</td>
                    <td>Val 4.1</td>
                    <td>Val 4.2</td>
                    <td>Val 4.3</td>
                </tr>
                <tr>
                    <td>Val 1.1</td>
                    <td>Val 1.2</td>
                    <td></td>
                    <td>Val 3.1</td>
                    <td>Val 3.2</td>
                    <td></td>
                    <td>Val 3.4</td>
                    <td>Val 4.1</td>
                    <td>Val 4.2</td>
                    <td>Val 4.3</td>
                </tr>
                <tr>
                    <td>Val 1.1</td>
                    <td>Val 1.2</td>
                    <td></td>
                    <td>Val 3.1</td>
                    <td>Val 3.2</td>
                    <td></td>
                    <td>Val 3.4</td>
                    <td>Val 4.1</td>
                    <td>Val 4.2</td>
                    <td>Val 4.3</td>
                </tr>
                <tr>
                    <td>Val 1.1</td>
                    <td>Val 1.2</td>
                    <td></td>
                    <td>Val 3.1</td>
                    <td>Val 3.2</td>
                    <td></td>
                    <td>Val 3.4</td>
                    <td>Val 4.1</td>
                    <td>Val 4.2</td>
                    <td>Val 4.3</td>
                </tr>
                <tr>
                    <td>Val 1.1</td>
                    <td>Val 1.2</td>
                    <td></td>
                    <td>Val 3.1</td>
                    <td>Val 3.2</td>
                    <td></td>
                    <td>Val 3.4</td>
                    <td>Val 4.1</td>
                    <td>Val 4.2</td>
                    <td>Val 4.3</td>
                </tr>
                <tr>
                    <td>Val 1.1</td>
                    <td>Val 1.2</td>
                    <td></td>
                    <td>Val 3.1</td>
                    <td>Val 3.2</td>
                    <td></td>
                    <td>Val 3.4</td>
                    <td>Val 4.1</td>
                    <td>Val 4.2</td>
                    <td>Val 4.3</td>
                </tr>
                <tr>
                    <td>Val 1.1</td>
                    <td>Val 1.2</td>
                    <td></td>
                    <td>Val 3.1</td>
                    <td>Val 3.2</td>
                    <td></td>
                    <td>Val 3.4</td>
                    <td>Val 4.1</td>
                    <td>Val 4.2</td>
                    <td>Val 4.3</td>
                </tr>
                <tr>
                    <td>Val 1.1</td>
                    <td>Val 1.2</td>
                    <td></td>
                    <td>Val 3.1</td>
                    <td>Val 3.2</td>
                    <td></td>
                    <td>Val 3.4</td>
                    <td>Val 4.1</td>
                    <td>Val 4.2</td>
                    <td>Val 4.3</td>
                </tr>
                <tr>
                    <td>Val 1.1</td>
                    <td>Val 1.2</td>
                    <td></td>
                    <td>Val 3.1</td>
                    <td>Val 3.2</td>
                    <td></td>
                    <td>Val 3.4</td>
                    <td>Val 4.1</td>
                    <td>Val 4.2</td>
                    <td>Val 4.3</td>
                </tr>
                <tr>
                    <td>Val 1.1</td>
                    <td>Val 1.2</td>
                    <td></td>
                    <td>Val 3.1</td>
                    <td>Val 3.2</td>
                    <td></td>
                    <td>Val 3.4</td>
                    <td>Val 4.1</td>
                    <td>Val 4.2</td>
                    <td>Val 4.3</td>
                </tr>
                <tr>
                    <td>Val 1.1</td>
                    <td>Val 1.2</td>
                    <td></td>
                    <td>Val 3.1</td>
                    <td>Val 3.2</td>
                    <td></td>
                    <td>Val 3.4</td>
                    <td>Val 4.1</td>
                    <td>Val 4.2</td>
                    <td>Val 4.3</td>
                </tr>
                <tr>
                    <td>Val 1.1</td>
                    <td>Val 1.2</td>
                    <td></td>
                    <td>Val 3.1</td>
                    <td>Val 3.2</td>
                    <td></td>
                    <td>Val 3.4</td>
                    <td>Val 4.1</td>
                    <td>Val 4.2</td>
                    <td>Val 4.3</td>
                </tr>
                <tr>
                    <td>Val 1.1</td>
                    <td>Val 1.2</td>
                    <td></td>
                    <td>Val 3.1</td>
                    <td>Val 3.2</td>
                    <td></td>
                    <td>Val 3.4</td>
                    <td>Val 4.1</td>
                    <td>Val 4.2</td>
                    <td>Val 4.3</td>
                </tr>
                <tr>
                    <td>Val 1.1</td>
                    <td>Val 1.2</td>
                    <td></td>
                    <td>Val 3.1</td>
                    <td>Val 3.2</td>
                    <td></td>
                    <td>Val 3.4</td>
                    <td>Val 4.1</td>
                    <td>Val 4.2</td>
                    <td>Val 4.3</td>
                </tr>
                <tr>
                    <td>Val 1.1</td>
                    <td>Val 1.2</td>
                    <td></td>
                    <td>Val 3.1</td>
                    <td>Val 3.2</td>
                    <td></td>
                    <td>Val 3.4</td>
                    <td>Val 4.1</td>
                    <td>Val 4.2</td>
                    <td>Val 4.3</td>
                </tr>
                <tr>
                    <td>Val 1.1</td>
                    <td>Val 1.2</td>
                    <td></td>
                    <td>Val 3.1</td>
                    <td>Val 3.2</td>
                    <td></td>
                    <td>Val 3.4</td>
                    <td>Val 4.1</td>
                    <td>Val 4.2</td>
                    <td>Val 4.3</td>
                </tr>
                <tr>
                    <td>Val 1.1</td>
                    <td>Val 1.2</td>
                    <td></td>
                    <td>Val 3.1</td>
                    <td>Val 3.2</td>
                    <td></td>
                    <td>Val 3.4</td>
                    <td>Val 4.1</td>
                    <td>Val 4.2</td>
                    <td>Val 4.3</td>
                </tr>
                <tr>
                    <td>Val 1.1</td>
                    <td>Val 1.2</td>
                    <td></td>
                    <td>Val 3.1</td>
                    <td>Val 3.2</td>
                    <td></td>
                    <td>Val 3.4</td>
                    <td>Val 4.1</td>
                    <td>Val 4.2</td>
                    <td>Val 4.3</td>
                </tr>
                <tr>
                    <td>Val 1.1</td>
                    <td>Val 1.2</td>
                    <td></td>
                    <td>Val 3.1</td>
                    <td>Val 3.2</td>
                    <td></td>
                    <td>Val 3.4</td>
                    <td>Val 4.1</td>
                    <td>Val 4.2</td>
                    <td>Val 4.3</td>
                </tr>
                <tr>
                    <td>Val 1.1</td>
                    <td>Val 1.2</td>
                    <td></td>
                    <td>Val 3.1</td>
                    <td>Val 3.2</td>
                    <td></td>
                    <td>Val 3.4</td>
                    <td>Val 4.1</td>
                    <td>Val 4.2</td>
                    <td>Val 4.3</td>
                </tr>
                <tr>
                    <td>Val 1.1</td>
                    <td>Val 1.2</td>
                    <td></td>
                    <td>Val 3.1</td>
                    <td>Val 3.2</td>
                    <td></td>
                    <td>Val 3.4</td>
                    <td>Val 4.1</td>
                    <td>Val 4.2</td>
                    <td>Val 4.3</td>
                </tr>
                <tr>
                    <td>Val 1.1</td>
                    <td>Val 1.2</td>
                    <td></td>
                    <td>Val 3.1</td>
                    <td>Val 3.2</td>
                    <td></td>
                    <td>Val 3.4</td>
                    <td>Val 4.1</td>
                    <td>Val 4.2</td>
                    <td>Val 4.3</td>
                </tr>
                <tr>
                    <td>Val 1.1</td>
                    <td>Val 1.2</td>
                    <td></td>
                    <td>Val 3.1</td>
                    <td>Val 3.2</td>
                    <td></td>
                    <td>Val 3.4</td>
                    <td>Val 4.1</td>
                    <td>Val 4.2</td>
                    <td>Val 4.3</td>
                </tr>
                <tr>
                    <td>Val 1.1</td>
                    <td>Val 1.2</td>
                    <td></td>
                    <td>Val 3.1</td>
                    <td>Val 3.2</td>
                    <td></td>
                    <td>Val 3.4</td>
                    <td>Val 4.1</td>
                    <td>Val 4.2</td>
                    <td>Val 4.3</td>
                </tr>
                <tr>
                    <td>Val 1.1</td>
                    <td>Val 1.2</td>
                    <td></td>
                    <td>Val 3.1</td>
                    <td>Val 3.2</td>
                    <td></td>
                    <td>Val 3.4</td>
                    <td>Val 4.1</td>
                    <td>Val 4.2</td>
                    <td>Val 4.3</td>
                </tr>
                <tr>
                    <td>Val 1.1</td>
                    <td>Val 1.2</td>
                    <td></td>
                    <td>Val 3.1</td>
                    <td>Val 3.2</td>
                    <td></td>
                    <td>Val 3.4</td>
                    <td>Val 4.1</td>
                    <td>Val 4.2</td>
                    <td>Val 4.3</td>
                </tr>
                <tr>
                    <td>Val 1.1</td>
                    <td>Val 1.2</td>
                    <td></td>
                    <td>Val 3.1</td>
                    <td>Val 3.2</td>
                    <td></td>
                    <td>Val 3.4</td>
                    <td>Val 4.1</td>
                    <td>Val 4.2</td>
                    <td>Val 4.3</td>
                </tr>
                <tr>
                    <td>Val 1.1</td>
                    <td>Val 1.2</td>
                    <td></td>
                    <td>Val 3.1</td>
                    <td>Val 3.2</td>
                    <td></td>
                    <td>Val 3.4</td>
                    <td>Val 4.1</td>
                    <td>Val 4.2</td>
                    <td>Val 4.3</td>
                </tr>
                <tr>
                    <td>Val 1.1</td>
                    <td>Val 1.2</td>
                    <td></td>
                    <td>Val 3.1</td>
                    <td>Val 3.2</td>
                    <td></td>
                    <td>Val 3.4</td>
                    <td>Val 4.1</td>
                    <td>Val 4.2</td>
                    <td>Val 4.3</td>
                </tr>
                <tr>
                    <td>Val 1.1</td>
                    <td>Val 1.2</td>
                    <td></td>
                    <td>Val 3.1</td>
                    <td>Val 3.2</td>
                    <td></td>
                    <td>Val 3.4</td>
                    <td>Val 4.1</td>
                    <td>Val 4.2</td>
                    <td>Val 4.3</td>
                </tr>
                <tr>
                    <td>Val 1.1</td>
                    <td>Val 1.2</td>
                    <td></td>
                    <td>Val 3.1</td>
                    <td>Val 3.2</td>
                    <td></td>
                    <td>Val 3.4</td>
                    <td>Val 4.1</td>
                    <td>Val 4.2</td>
                    <td>Val 4.3</td>
                </tr>
                <tr>
                    <td>Val 1.1</td>
                    <td>Val 1.2</td>
                    <td></td>
                    <td>Val 3.1</td>
                    <td>Val 3.2</td>
                    <td></td>
                    <td>Val 3.4</td>
                    <td>Val 4.1</td>
                    <td>Val 4.2</td>
                    <td>Val 4.3</td>
                </tr>
                <tr>
                    <td>Val 1.1</td>
                    <td>Val 1.2</td>
                    <td></td>
                    <td>Val 3.1</td>
                    <td>Val 3.2</td>
                    <td></td>
                    <td>Val 3.4</td>
                    <td>Val 4.1</td>
                    <td>Val 4.2</td>
                    <td>Val 4.3</td>
                </tr>
                <tr>
                    <td>Val 1.1</td>
                    <td>Val 1.2</td>
                    <td></td>
                    <td>Val 3.1</td>
                    <td>Val 3.2</td>
                    <td></td>
                    <td>Val 3.4</td>
                    <td>Val 4.1</td>
                    <td>Val 4.2</td>
                    <td>Val 4.3</td>
                </tr>
                <tr>
                    <td>Val 1.1</td>
                    <td>Val 1.2</td>
                    <td></td>
                    <td>Val 3.1</td>
                    <td>Val 3.2</td>
                    <td></td>
                    <td>Val 3.4</td>
                    <td>Val 4.1</td>
                    <td>Val 4.2</td>
                    <td>Val 4.3</td>
                </tr>
                <tr>
                    <td>Val 1.1</td>
                    <td>Val 1.2</td>
                    <td></td>
                    <td>Val 3.1</td>
                    <td>Val 3.2</td>
                    <td></td>
                    <td>Val 3.4</td>
                    <td>Val 4.1</td>
                    <td>Val 4.2</td>
                    <td>Val 4.3</td>
                </tr>
                <tr>
                    <td>Val 1.1</td>
                    <td>Val 1.2</td>
                    <td></td>
                    <td>Val 3.1</td>
                    <td>Val 3.2</td>
                    <td></td>
                    <td>Val 3.4</td>
                    <td>Val 4.1</td>
                    <td>Val 4.2</td>
                    <td>Val 4.3</td>
                </tr>
                <tr>
                    <td>Val 1.1</td>
                    <td>Val 1.2</td>
                    <td></td>
                    <td>Val 3.1</td>
                    <td>Val 3.2</td>
                    <td></td>
                    <td>Val 3.4</td>
                    <td>Val 4.1</td>
                    <td>Val 4.2</td>
                    <td>Val 4.3</td>
                </tr>
                <tr>
                    <td>Val 1.1</td>
                    <td>Val 1.2</td>
                    <td></td>
                    <td>Val 3.1</td>
                    <td>Val 3.2</td>
                    <td></td>
                    <td>Val 3.4</td>
                    <td>Val 4.1</td>
                    <td>Val 4.2</td>
                    <td>Val 4.3</td>
                </tr>
                <tr>
                    <td>Val 1.1</td>
                    <td>Val 1.2</td>
                    <td></td>
                    <td>Val 3.1</td>
                    <td>Val 3.2</td>
                    <td></td>
                    <td>Val 3.4</td>
                    <td>Val 4.1</td>
                    <td>Val 4.2</td>
                    <td>Val 4.3</td>
                </tr>
                <tr>
                    <td>Val 1.1</td>
                    <td>Val 1.2</td>
                    <td></td>
                    <td>Val 3.1</td>
                    <td>Val 3.2</td>
                    <td></td>
                    <td>Val 3.4</td>
                    <td>Val 4.1</td>
                    <td>Val 4.2</td>
                    <td>Val 4.3</td>
                </tr>
                <tr>
                    <td>Val 1.1</td>
                    <td>Val 1.2</td>
                    <td></td>
                    <td>Val 3.1</td>
                    <td>Val 3.2</td>
                    <td></td>
                    <td>Val 3.4</td>
                    <td>Val 4.1</td>
                    <td>Val 4.2</td>
                    <td>Val 4.3</td>
                </tr>
                <tr>
                    <td>Val 1.1</td>
                    <td>Val 1.2</td>
                    <td></td>
                    <td>Val 3.1</td>
                    <td>Val 3.2</td>
                    <td></td>
                    <td>Val 3.4</td>
                    <td>Val 4.1</td>
                    <td>Val 4.2</td>
                    <td>Val 4.3</td>
                </tr>
                <tr>
                    <td>Val 1.1</td>
                    <td>Val 1.2</td>
                    <td></td>
                    <td>Val 3.1</td>
                    <td>Val 3.2</td>
                    <td></td>
                    <td>Val 3.4</td>
                    <td>Val 4.1</td>
                    <td>Val 4.2</td>
                    <td>Val 4.3</td>
                </tr>
                <tr>
                    <td>Val 1.1</td>
                    <td>Val 1.2</td>
                    <td></td>
                    <td>Val 3.1</td>
                    <td>Val 3.2</td>
                    <td></td>
                    <td>Val 3.4</td>
                    <td>Val 4.1</td>
                    <td>Val 4.2</td>
                    <td>Val 4.3</td>
                </tr>
                <tr>
                    <td>Val 1.1</td>
                    <td>Val 1.2</td>
                    <td></td>
                    <td>Val 3.1</td>
                    <td>Val 3.2</td>
                    <td></td>
                    <td>Val 3.4</td>
                    <td>Val 4.1</td>
                    <td>Val 4.2</td>
                    <td>Val 4.3</td>
                </tr>
                <tr>
                    <td>Val 1.1</td>
                    <td>Val 1.2</td>
                    <td></td>
                    <td>Val 3.1</td>
                    <td>Val 3.2</td>
                    <td></td>
                    <td>Val 3.4</td>
                    <td>Val 4.1</td>
                    <td>Val 4.2</td>
                    <td>Val 4.3</td>
                </tr>
                <tr>
                    <td>Val 1.1</td>
                    <td>Val 1.2</td>
                    <td></td>
                    <td>Val 3.1</td>
                    <td>Val 3.2</td>
                    <td></td>
                    <td>Val 3.4</td>
                    <td>Val 4.1</td>
                    <td>Val 4.2</td>
                    <td>Val 4.3</td>
                </tr>
                <tr>
                    <td>Val 1.1</td>
                    <td>Val 1.2</td>
                    <td></td>
                    <td>Val 3.1</td>
                    <td>Val 3.2</td>
                    <td></td>
                    <td>Val 3.4</td>
                    <td>Val 4.1</td>
                    <td>Val 4.2</td>
                    <td>Val 4.3</td>
                </tr>
            </tbody>
        </table>
    </div>

    <script>
        function RemoveEmptyColumns() {
            tblt = $('#texample').DataTable();


            var hidecolum = new Array();
            var k = 0;
            var subheade = $("#texample thead tr td").length;
            var rowcount = $("#texample tbody tr").length;
            var counter = 0;
            var i = 0;

            for (i = 1; i <= subheade; i++) {
                k = 0;
                $("#texample tbody tr td:nth-child(" + i + ")").each(function () {
                    var val = $(this).text().trim();
                    if (val === '') {
                        k = k + 1;
                    }
                    if (k === rowcount) {


                        hidecolum[counter] = i - 1;
                        counter = counter + 1;
                        k = 0;
                    }

                });

            }
            tblt.columns(hidecolum).visible(false);
        }
    </script>
</body>

</html>